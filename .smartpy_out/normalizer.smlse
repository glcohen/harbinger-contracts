(storage (record 63 (assetCodes (list 63 (literal (string "XTZ-USD") 63) (literal (string "BTC-USD") 63))) (assetMap (big_map 59 ((literal (string "XTZ-USD") -1) (record 51 (computedPrice (literal (intOrNat 0) 51)) (lastUpdateTime (literal (timestamp 0) 43)) (prices (record 48 (first (literal (intOrNat 0) 48)) (last (literal (int -1) 48)) (saved (map 48 ((literal (intOrNat 0) -1) (literal (nat 0) 48)))) (sum (literal (nat 0) 48)))) (volumes (record 49 (first (literal (intOrNat 0) 49)) (last (literal (int -1) 49)) (saved (map 49 ((literal (intOrNat 0) -1) (literal (nat 0) 49)))) (sum (literal (nat 0) 49)))))) ((literal (string "BTC-USD") -1) (record 51 (computedPrice (literal (intOrNat 0) 51)) (lastUpdateTime (literal (timestamp 0) 43)) (prices (record 48 (first (literal (intOrNat 0) 48)) (last (literal (int -1) 48)) (saved (map 48 ((literal (intOrNat 0) -1) (literal (nat 0) 48)))) (sum (literal (nat 0) 48)))) (volumes (record 49 (first (literal (intOrNat 0) 49)) (last (literal (int -1) 49)) (saved (map 49 ((literal (intOrNat 0) -1) (literal (nat 0) 49)))) (sum (literal (nat 0) 49)))))))) (numDataPoints (literal (int 3) 37)) (oracleContract (literal (address "KT1QLPABNCD4z1cSYVv3ntYDYgtWTed7LkYr") 35)))
storage_type (())
messages ((get True ((defineLocal "compute_140" (first (params 138) 140) 140) (defineLocal "compute_141" (second (params 138) 141) 141) (verify (contains (attr (data) "assetMap" 145) (getLocal "compute_140" 140) 145) False (literal (string "bad request") 144) 144) (set (operations 151) (cons (transfer (attr (getItem (attr (data) "assetMap" 145) (getLocal "compute_140" 140) 150) "computedPrice" 150) (literal (mutez 0) 151) (getLocal "compute_141" 141) 151) (operations 151) 151) 151))) (update True ((set_type (params 80) (bigmap "string" (pair "timestamp" (pair "timestamp" (pair "nat" (pair "nat" (pair "nat" (pair "nat" "nat"))))))) 81) (verify (eq (sender) (attr (data) "oracleContract" 85) 85) False (literal (string "bad sender") 84) 84) (forGroup "assetCode" (attr (data) "assetCodes" 90) ((ifBlock (contains (params 80) (iter "assetCode" 90) 92) ((defineLocal "compute_96" (first (getItem (params 80) (iter "assetCode" 90) 93) 96) 96) (verify (gt (getLocal "compute_96" 96) (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 97) "lastUpdateTime" 97) 97) False 97) (set (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 100) "lastUpdateTime" 100) (getLocal "compute_96" 96) 100) (defineLocal "compute_103" (second (getItem (params 80) (iter "assetCode" 90) 93) 103) 103) (defineLocal "compute_104" (second (getLocal "compute_103" 103) 104) 104) (defineLocal "compute_105" (second (getLocal "compute_104" 104) 105) 105) (defineLocal "compute_106" (second (getLocal "compute_105" 105) 106) 106) (defineLocal "compute_107" (second (getLocal "compute_106" 106) 107) 107) (defineLocal "compute_111" (first (getLocal "compute_105" 105) 111) 111) (defineLocal "compute_112" (first (getLocal "compute_106" 106) 112) 112) (defineLocal "compute_113" (first (getLocal "compute_107" 107) 113) 113) (defineLocal "compute_114" (second (getLocal "compute_107" 107) 114) 114) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "last" 118) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "last" 118) (literal (intOrNat 1) 118) 118) 118) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "sum" 118) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "sum" 118) (mul (truediv (add (add (getLocal "compute_111" 111) (getLocal "compute_112" 112) 115) (getLocal "compute_113" 113) 115) (literal (intOrNat 3) 115) 115) (getLocal "compute_114" 114) 115) 118) 118) (set (getItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "saved" 118) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 118) "prices" 118) "last" 118) 118) (mul (truediv (add (add (getLocal "compute_111" 111) (getLocal "compute_112" 112) 115) (getLocal "compute_113" 113) 115) (literal (intOrNat 3) 115) 115) (getLocal "compute_114" 114) 115) 118) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "last" 119) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "last" 119) (literal (intOrNat 1) 119) 119) 119) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "sum" 119) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "sum" 119) (getLocal "compute_114" 114) 119) 119) (set (getItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "saved" 119) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 119) "volumes" 119) "last" 119) 119) (getLocal "compute_114" 114) 119) (ifBlock (gt (add (sub (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 122) "prices" 122) "last" 122) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 122) "prices" 122) "first" 122) 122) (literal (intOrNat 1) 122) 122) (attr (data) "numDataPoints" 122) 122) ((verify (lt (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "first" 123) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "last" 123) 123) False 123) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "sum" 123) (openVariant (isNat (sub (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "sum" 123) (getItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "saved" 123) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "first" 123) 123) 123) 123) "Some" 123) 123) (delItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "saved" 123) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "first" 123) 123) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "first" 123) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 123) "prices" 123) "first" 123) (literal (intOrNat 1) 123) 123) 123) (verify (lt (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "first" 124) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "last" 124) 124) False 124) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "sum" 124) (openVariant (isNat (sub (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "sum" 124) (getItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "saved" 124) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "first" 124) 124) 124) 124) "Some" 124) 124) (delItem (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "saved" 124) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "first" 124) 124) (set (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "first" 124) (add (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 124) "volumes" 124) "first" 124) (literal (intOrNat 1) 124) 124) 124)) 122) (set (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 127) "computedPrice" 127) (truediv (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 127) "prices" 127) "sum" 127) (attr (attr (getItem (attr (data) "assetMap" 145) (iter "assetCode" 90) 127) "volumes" 127) "sum" 127) 127) 127)) 92)) 90))))
flags (Exception_Unit no_comment)
globals ()
storage_layout ()
entry_points_layout ())